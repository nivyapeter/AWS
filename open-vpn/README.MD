## open-vpn
# How can we access a private ec2 instance by using an openvpn server

     - Create an openvpn server in your AWS account for accessing private ec2
	           
	* First, sign in to the AWS Management Console and open the AWS   Marketplace console ,Then enter OpenVPN   Server in the search field 
            * choose the free tier eligible AMI
            * pricing details will be there, then click on Continue
	 * choose the instance type (t2.micro) and click on next
             * Then choose the VPC (own vpc) and should take the subnet as public ip,click on next (can provide elasic ip)
	 * Add tags and then configure the security group
	 * Review the security group generated by AWS and make sure that the ports are opened for VPN
	  * Click on review and launch.Select the existing key pair or create a new key pair and launch the instance
	  * SSH into your new instance with the Public IP address  and logging in with the openvpnas user.
	  * For the first time login the openvpn server generates some configuration and you can read and agree to continue
	  * Select all the configuration as default and should note the url for admin and client
	  * By entering into the root user you can set the password for openvpn server
	  * Then go to the browser and enter the admin url
	  * Log in the admin web with your openvpn username and password just assigned
	  * Read and agree to continue
	  * In the navigation pane of admin web ,choose user permission and configure a new user and assign a password for that user
	  * Then go to the browser again and enter the client url and enter the user account with new username and password just created
	  * You will be shown a list of files available to download. Pick the user-locked profile or the auto-login profile, and you will be sent a client.ovpn file
	  * Save this file to your Linux operating system.
	  * Install the openvpn connect v3 in your device
                        For fedora,
                        ```
                        # yum install yum-plugin-copr
	                    # yum copr enable dsommers/openvpn3
	                    # yum install openvpn3-client
						```
	 * Do the following configuration in your device
				                                     
		openvpn3 config-import --config   client.ovpn
		openvpn3 session-start --config  client.ovpn  (You can start a new VPN session)
		openvpn3 sessions-list (You can manage a running VPN session
          * Launch an ec2 instance in private subnet for checking the VPN connectivity
	      ( source of the security group should be edited with openvpn server security group)
          * Then access your private instance through SSH
                      ssh -i "Key pair" user@privateip
                      (eg: ssh -i /home/npeter/Downloads/openvpn.pem ubuntu@10.0.242.158	
