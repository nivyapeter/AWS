## VPC
# creation of ec2 in another VPC
         - create vpc
		 -give subnet
		 -create instance by using the new vpc and subnets
		 -again provide the internet gateway and attach to instance
		 -then go to route table and check the subnet association and save
		 -then go to routes then create route and open the created one then edit it 
		 -add route as 0.0.0.0/0 and internet gateway then close
		 -then open the ec2 instance by using ssh
		 
		 
		 
		 
# load balancer in different VPC:
(in main ec2)- In cd /etc/nginx/sites-available 
                    -sudo cp default lb.conf
		            -sudo vim lb.conf 
		             - unlink all the files in sites-enabled
		             - sudo ln -s /etc/nginx/sites-available/lb.conf   ../sites-enabled/default
		             - sudo nginx -t (syntax is ok ,test is successful)
		             -sudo nginx -s reload
		             -curl localhost
		 
```	
*lb.conf
                    		
	     # Upstream config

                   upstream backend {
                   server 10.2.0.113;
                   server 10.1.0.24;
                   } 

                  # Default server configuration
                  #
                 server {
                 listen 80 default_server;
                 listen [::]:80 default_server;

                 # SSL configuration
                 #
              # listen 443 ssl default_server;
             # listen [::]:443 ssl default_server;
             #
             # Note: You should disable gzip for SSL traffic.
             # See: https://bugs.debian.org/773332
            #
            # Read up on ssl_ciphers to ensure a secure configuration.
            # See: https://bugs.debian.org/765782
           #
           # Self signed certs generated by the ssl-cert package
           # Don't use them in a production server!
           #
           # include snippets/snakeoil.conf;

           root /var/www/html;

          # Add index.php to the list if you are using PHP
          index index.html index.htm index.nginx-debian.html;

           server_name _;

             #       location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
            #               try_files $uri $uri/ =404;
            #       }

             location / {
                proxy_pass http://backend;
             }

```

# TRANSIT GATEWAY::::
         
	step:1	 - create a transit gateway ( give name ,disable route table association and   propagation)
		 
	step:2	 - Next step is to create a transit gateway route table ( give name and attach the transit gateway ID)
		 
	step:3	 - Then go to transit gateway attachment and create the first attachment ( attach the first vpc)
		 
	step:4	 - create the second vpc attachment
		 
	step:5	 - go to transit gateway route table and create association ( choose the first vpc attachment to associate)
		 
    step:6    - then create propagation for first attachment
		         - routes will be created  automatically by giving propagation
		 
	step:7	 - Repeate step 5 & 6 for second vpc attachment
	
	step:8   - then go to vpc route table add the first vpc CIDR in second VPC by editing the routes
	            - and repeate it for second vpc also
	
	step:9   - then ping the two VPC
		 
